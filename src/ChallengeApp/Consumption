using System;
using System.Collections.Generic;

namespace ChallengeApp
{
    public class Consumption
    {
        public event ConsumptionAddedDelegate ConsumptionAdded;
        public event ConsumptionLowDelegate ConsumptionLow;
        private List<double> consumptions = new List<double>();
        public void AddConsumption(double consumption)
        {
         if (consumption >= 4.0 && consumption <= 10.0)
         {
          this.consumptions.Add(consumption);
          
          if(ConsumptionAdded != null)
          {
            ConsumptionAdded(this, new EventArgs());
          }
          if(consumption < 6 && ConsumptionLow != null)
          {
            ConsumptionLow(this, new EventArgs());
          }
         }
         else
         {
          throw new ArgumentException($"Invalid argumnet: {nameof(consumption)}");
          //Console.WriteLine("Invalid value");
         }
        }
        public void AddConsumption(string consumption)  
        {
          int result;
          int.TryParse(consumption ,out result);      
          if ( result >= 1 && result <= 6)
          {
            this.consumptions.Add(result);
          }
          else
          {
           switch(consumption)
           {
            case "3+":
            this.AddConsumption(3.5);
            break;
            case "4+":
            this.AddConsumption(4.5);
            break;
            case "5+":
            this.AddConsumption(5.5);
            break;
            case "6+":
            this.AddConsumption(6.5);
            break;
            case "1-":
            this.AddConsumption(0.75);
            break;
            case "2-":
            this.AddConsumption(1.75);
            break;
            case "3-":
            this.AddConsumption(2.75);
            break;
            case "4-":
            this.AddConsumption(3.75);
            break;
            case "5-":
            this.AddConsumption(4.75);
            break;
            case "6-":
            this.AddConsumption(5.75);
            break;
            default:
            throw new ArgumentException($"Invalid argumnet: {nameof(consumption)}");
           }
         }
        }
    }
}